<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Darwin Test</title>
</head>
<body style="background:black;color:#ffb000;font-family:Courier New">

<h2>Darwin Test</h2>
<pre id="out">Loadingâ€¦</pre>

<script>
const API_KEY = "ZggcXzfNxg3rNAYfBNxd3GQNmdXmTx0Vb5Azyx2PYe73TFJA";
const CRS = "ZFD"; // Farringdon

fetch(`https://api.rdm.nationalrail.co.uk/darwin/ldbws/public/departures/${CRS}`, {
  headers: {
    "x-apikey": API_KEY
  }
})
.then(r => r.json())
.then(data => {
  document.getElementById("out").textContent =
    JSON.stringify(data, null, 2);
})
.catch(err => {
  document.getElementById("out").textContent =
    "ERROR: " + err;
});
</script>

</body>
</html>
